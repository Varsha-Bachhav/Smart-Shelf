<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Shelf | Library Management System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #4361ee;
            --secondary: #3a0ca3;
            --accent: #4cc9f0;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --light: #f8f9fa;
            --dark: #2d3436;
            --shelf: #8d6e63;
            --book: #e53935;
        }

        body {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
                url('https://images.unsplash.com/photo-1507842217343-583bb7270b66?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&q=80');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            color: var(--light);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            background: rgba(26, 29, 58, 0.9);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            min-height: 90vh;
            display: flex;
            flex-direction: column;
        }

        /* Header Styles */
        header {
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            padding: 1.5rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 3px solid var(--accent);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo i {
            font-size: 2.5rem;
            color: var(--accent);
            animation: pulse 2s infinite;
        }

        .logo-text {
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: 1px;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-icon {
            width: 50px;
            height: 50px;
            background: var(--accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
        }

        /* Navigation */
        .nav-container {
            background: rgba(42, 45, 67, 0.8);
            padding: 1rem 2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .nav-btn {
            background: rgba(67, 97, 238, 0.2);
            border: 2px solid var(--primary);
            color: var(--light);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .nav-btn i {
            font-size: 1.8rem;
            color: var(--accent);
        }

        .nav-btn:hover {
            background: var(--primary);
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(67, 97, 238, 0.4);
        }

        .nav-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.1);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .nav-btn:hover::after {
            opacity: 1;
        }

        /* Content Area */
        .content-area {
            padding: 2rem;
            min-height: 500px;
            flex: 1;
        }

        .content-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .content-section.active {
            display: block;
        }

        .section-title {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.8rem;
            border-bottom: 2px solid var(--accent);
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        /* Form Styles */
        .form-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            padding: 2rem;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .form-row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 25px;
        }

        .form-group {
            flex: 1 1 300px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--accent);
        }

        input,
        select,
        textarea {
            width: 100%;
            padding: 14px 20px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            font-size: 1rem;
            color: white;
            transition: all 0.3s ease;
        }

        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(76, 201, 240, 0.2);
        }

        .btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 14px 30px;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            position: relative;
            overflow: hidden;
        }

        .btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.1);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .btn:hover::after {
            opacity: 1;
        }

        .btn:hover {
            background: var(--secondary);
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(67, 97, 238, 0.3);
        }

        .btn-submit {
            background: var(--success);
            padding: 14px 40px;
            font-size: 1.1rem;
            margin-top: 10px;
        }

        .btn-submit:hover {
            background: #27ae60;
        }

        /* Add this new block to your <style> section */

        .btn-delete {
            background: var(--danger);
            padding: 8px 15px;
            /* Use smaller padding for a more compact button, common for table actions */
            font-size: 0.9rem;
            /* Smaller font size to match the padding */
        }

        .btn-delete:hover {
            background: #c0392b;
            /* A slightly darker shade of red for the hover effect */
            /* You can also adjust the box-shadow for a consistent look */
            box-shadow: 0 7px 15px rgba(231, 76, 60, 0.3);
        }

        /* Table Styles */
        .table-container {
            overflow-x: auto;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }

        .books-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }

        .books-table th,
        .books-table td {
            padding: 15px 20px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .books-table th {
            background: rgba(67, 97, 238, 0.2);
            color: var(--accent);
            font-weight: 600;
        }

        .books-table tr:last-child td {
            border-bottom: none;
        }

        .books-table tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .status-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .available {
            background: rgba(46, 204, 113, 0.15);
            color: var(--success);
        }

        .checked-out {
            background: rgba(243, 156, 18, 0.15);
            color: var(--warning);
        }

        /* Dashboard */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            border-top: 5px solid var(--primary);
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
            position: relative;
            overflow: hidden;
        }

        .stat-card:nth-child(2) {
            border-top-color: var(--success);
        }

        .stat-card:nth-child(3) {
            border-top-color: var(--warning);
        }

        .stat-card:nth-child(4) {
            border-top-color: var(--danger);
        }

        .stat-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .stat-icon {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--primary);
        }

        .stat-card:nth-child(2) .stat-icon {
            color: var(--success);
        }

        .stat-card:nth-child(3) .stat-icon {
            color: var(--warning);
        }

        .stat-card:nth-child(4) .stat-icon {
            color: var(--danger);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 1.1rem;
            color: var(--accent);
        }

        /* Footer */
        footer {
            background: rgba(0, 0, 0, 0.3);
            padding: 1.5rem 2rem;
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: auto;
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .logo-text {
                font-size: 1.5rem;
            }

            .nav-grid {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }

            .content-area {
                padding: 1.5rem;
            }

            .form-container {
                padding: 1.5rem;
            }

            .form-group {
                flex: 1 1 100%;
            }
        }


        /* --- Modal Background --- */
        .modal {
            /* This creates a fixed, full-screen overlay for the modal background. */
            position: fixed;
            z-index: 1000;
            /* Use a high z-index to ensure it's on top of everything. */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            /* Slightly darker, more transparent background. */

            /* --- Animation Properties --- */
            display: flex;
            /* Use flexbox to easily center the content. */
            justify-content: center;
            align-items: center;

            /* The initial state (hidden) */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        /* --- When the modal is active (visible) --- */
        .modal.active {
            opacity: 1;
            visibility: visible;
        }

        /* --- Modal Content Box --- */
        .modal-content {
            background-color: #ffffff;
            /* Use a clean white background. */
            padding: 30px;
            border-radius: 8px;
            /* Rounded corners for a softer look. */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            /* A subtle shadow to lift it off the page. */
            max-width: 500px;
            width: 90%;

            /* --- Initial Animation State --- */
            transform: scale(0.95) translateY(20px);
            /* Slightly smaller and lower than final state. */
            transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            /* Bounce-in effect. */
        }

        /* --- Final Animation State (when modal is active) --- */
        .modal.active .modal-content {
            transform: scale(1) translateY(0);
        }

        /* --- Close Button --- */
        .close-btn {
            color: #888;
            float: right;
            font-size: 32px;
            font-weight: 300;
            /* Lighter weight for a modern look. */
            line-height: 1;
            /* Aligns it vertically. */
        }

        .close-btn:hover,
        .close-btn:focus {
            color: #333;
            cursor: pointer;
        }

        /* --- Form Elements --- */
        .modal-content h2 {
            color: #333;
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 24px;
        }

        .modal-content label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: 600;
        }

        .modal-content input {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }

        .modal-content input:focus {
            outline: none;
            border-color: #007bff;
            /* Highlight on focus. */
            box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.25);
        }

        .modal-content button {
            background-color: #007bff;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.2s;
        }

        .modal-content button:hover {
            background-color: #0056b3;
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Header -->
        <header>
            <div class="logo">
                <i class="fas fa-book-open"></i>
                <div class="logo-text">Smart Shelf</div>
            </div>
            <div class="user-info">
                <div class="user-icon">L</div>
                <div>
                    <h3>Librarian</h3>
                    <p>Admin User</p>
                </div>
            </div>
        </header>

        <!-- Navigation -->
        <div class="nav-container">
            <div class="nav-grid">
                <div class="nav-btn" data-target="dashboard" id="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </div>
                <div class="nav-btn" data-target="studentReg">
                    <i class="fas fa-user-graduate"></i>
                    <span>Student Registration</span>
                </div>
                <div class="nav-btn" data-target="memberReg">
                    <i class="fas fa-user-friends"></i>
                    <span>Member Registration</span>
                </div>
                <div class="nav-btn" data-target="allBooks" id="getBooks">
                    <i class="fas fa-book"></i>
                    <span>All Books</span>
                </div>
                <div class="nav-btn" data-target="manageStudents" id="getStudents">
                    <i class="fas fa-users-cog"></i>
                    <span>Manage Students</span>
                </div>
                <div class="nav-btn" data-target="issueBooks">
                    <i class="fas fa-hand-holding"></i>
                    <span>Issue Books</span>
                </div>
                <div class="nav-btn" data-target="sendReminder" id="sendReminder">
                    <i class="fas fa-bell"></i>
                    <span>Send Reminder</span>
                </div>
                <div class="nav-btn" data-target="returnBooks" id="returnBooks">
                    <i class="fas fa-undo"></i>
                    <span>Return Books</span>
                </div>
                <div class="nav-btn" data-target="viewTransactions" id="getTransactions">
                    <i class="fas fa-history"></i>
                    <span>View Transactions</span>
                </div>
                <div class="nav-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </div>
            </div>
        </div>

        <!-- Content Area -->
        <div class="content-area">
            <!-- Dashboard -->
            <div id="dashboard" class="content-section active">
                <h2 class="section-title">
                    <i class="fas fa-tachometer-alt"></i> Dashboard Overview
                </h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-book"></i>
                        </div>
                        <div class="stat-value" id="totalBooks">12,458</div>
                        <div class="stat-label">Total Books</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-value" id="activeMembersCount">--</div>
                        <div class="stat-label">Active Members</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <div class="stat-value" id="totalCheckedoutBooks">347</div>
                        <div class="stat-label">Books Checked Out</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <div class="stat-value" id="totalOverdueBooks">28</div>
                        <div class="stat-label">Overdue Books</div>
                    </div>
                </div>

                <!-- <h3 class="section-title">
                    <i class="fas fa-history"></i> Recent Activity
                </h3>
                <div class="table-container">
                    <table class="books-table">
                        <thead>
                            <tr>
                                <th>Activity</th>
                                <th>User</th>
                                <th>Book</th>
                                <th>Time</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Book Checked Out</td>
                                <td>Sarah Johnson</td>
                                <td>The Silent Patient</td>
                                <td>2 hours ago</td>
                            </tr>
                            <tr>
                                <td>Book Returned</td>
                                <td>Michael Anderson</td>
                                <td>Atomic Habits</td>
                                <td>5 hours ago</td>
                            </tr>
                            <tr>
                                <td>New Student Registered</td>
                                <td>Emily Roberts</td>
                                <td>-</td>
                                <td>Yesterday</td>
                            </tr>
                            <tr>
                                <td>Reminder Sent</td>
                                <td>David Wilson</td>
                                <td>Where the Crawdads Sing</td>
                                <td>2 days ago</td>
                            </tr>
                        </tbody>
                    </table>
                </div> -->
            </div>

            <!-- Student Registration Form -->
            <div id="studentReg" class="content-section">
                <h2 class="section-title">
                    <i class="fas fa-user-graduate"></i> Student Registration
                </h2>
                <div class="form-container">
                    <form id="studentForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="fullName">Full Name</label>
                                <input type="text" id="fullName" placeholder="Enter student's full name" required>
                            </div>
                            <!-- <div class="form-group">
                                <label for="studentId">Student ID</label>
                                <input type="text" id="studentId" placeholder="Enter student ID" required>
                            </div> -->
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="email">Email Address</label>
                                <input type="email" id="email" placeholder="Enter email address" required>
                            </div>
                            <div class="form-group">
                                <label for="phone">Phone Number</label>
                                <input type="tel" id="phone" placeholder="Enter phone number" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="department">Department</label>
                                <select id="department" required>
                                    <option value="">Select Department</option>
                                    <option value="cse">Computer Science and Engineering</option>
                                    <option value="ece">Electronics and Communication Engineering</option>
                                    <option value="ee">Electrical Engineering</option>
                                    <option value="me">Mechanical Engineering</option>
                                    <option value="ce">Civil Engineering</option>
                                    <option value="che">Chemical Engineering</option>
                                    <option value="aero">Aerospace Engineering</option>
                                    <option value="bt">Biotechnology</option>
                                    <option value="mech">Mechatronics Engineering</option>
                                    <option value="meta">Metallurgical and Materials Engineering</option>
                                    <option value="it">Information Technology</option>
                                    <option value="ie">Instrumentation Engineering</option>
                                </select>

                            </div>
                            <div class="form-group">
                                <label for="year">Academic Year</label>
                                <select id="year" required>
                                    <option value="">Select Year</option>
                                    <option value="1">First Year</option>
                                    <option value="2">Second Year</option>
                                    <option value="3">Third Year</option>
                                    <option value="4">Fourth Year</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="address">Address</label>
                            <textarea id="address" rows="3" placeholder="Enter full address"></textarea>
                        </div>

                        <button type="submit" class="btn btn-submit">
                            <i class="fas fa-user-plus"></i> Register Student
                        </button>
                    </form>
                </div>
            </div>



            <!-- Member Registration Form -->
            <div id="memberReg" class="content-section">
                <h2 class="section-title">
                    <i class="fas fa-user-friends"></i> Member Registration
                </h2>
                <div class="form-container">
                    <form id="memberForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="mFullName">Full Name</label>
                                <input type="text" id="mFullName" placeholder="Enter member's full name" required>
                            </div>
                            <!-- <div class="form-group">
                                <label for="mId">Member ID</label>
                                <input type="text" id="mId" placeholder="Enter member ID" required>
                            </div> -->
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="mEmail">Email Address</label>
                                <input type="email" id="mEmail" placeholder="Enter email address" required>
                            </div>
                            <div class="form-group">
                                <label for="mPhone">Phone Number</label>
                                <input type="tel" id="mPhone" placeholder="Enter phone number" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="mType">Member Type</label>
                                <select id="mType" required>
                                    <option value="">Select Member Type</option>
                                    <option value="student">Student</option>
                                    <option value="faculty">Faculty</option>
                                    <option value="staff">Staff</option>
                                    <option value="public">Public</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="mExpiry">Membership Expiry</label>
                                <input type="date" id="mExpiry" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="mAddress">Address</label>
                            <textarea id="mAddress" rows="3" placeholder="Enter full address"></textarea>
                        </div>

                        <button type="submit" class="btn btn-submit">
                            <i class="fas fa-user-plus"></i> Register Member
                        </button>
                    </form>
                </div>
            </div>

            <!-- All Books Section -->
            <div id="allBooks" class="content-section">
                <h2 class="section-title">
                    <i class="fas fa-book"></i> All Books
                </h2>
                <div class="form-group" style="max-width: 500px; margin-bottom: 25px;">
                    <input type="text" id="bookSearch" placeholder="Search books by title, author, or ISBN">
                </div>

                <div class="table-container" id="book-container">
                    <table class="books-table">
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Author</th>
                                <th>ISBN</th>
                                <th>Category</th>
                                <th>Status</th>
                                <!-- <th>Actions</th> -->
                            </tr>
                        </thead>
                        <tbody>

                            <tr>
                                <td>Where the Crawdads Sing</td>
                                <td>Delia Owens</td>
                                <td>978-0735219090</td>
                                <td>Fiction</td>
                                <td><span class="status-badge checked-out">Checked Out</span></td>
                                <td>
                                    <button class="btn" style="padding: 8px 15px; font-size: 0.9rem;">
                                        <i class="fas fa-eye"></i> View
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Manage Students -->
            <div id="manageStudents" class="content-section">
                <h2 class="section-title">
                    <i class="fas fa-users-cog"></i> Manage Students
                </h2>
                <div class="form-group" style="max-width: 500px; margin-bottom: 25px;">
                    <input type="text" id="studentSearch" placeholder="Search students by name or ID">
                </div>

                <div class="table-container" id="student-container">
                    <table class="books-table">
                        <thead>
                            <tr>
                                <th>Student ID</th>
                                <th>Name</th>
                                <th>Department</th>
                                <th>Email</th>
                                <th>Phone</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>

                            <!-- <tr>
                                <td>S2023003</td>
                                <td>Emily Roberts</td>
                                <td>Business Administration</td>
                                <td>emily@university.edu</td>
                                <td>+1 555-9012</td>
                                <td>
                                    <button class="btn" style="padding: 8px 15px; font-size: 0.9rem;">
                                        <i class="fas fa-edit"></i> Edit
                                    </button>
                                </td>
                            </tr> -->
                        </tbody>
                    </table>
                </div>



            </div>
            <!-- Modal Form -->

            <div id="edit-modal" class="modal">
                <div class="modal-content">
                    <span class="close-btn">&times;</span>
                    <h2>Edit Record</h2>
                    <form id="studentUpdateForm">
                        <!-- <label for="modal-id">ID:</label> -->
                        <input type="text" id="modal-id" readonly hidden>

                        <label for="modal-name">Name:</label>
                        <input type="text" id="modal-name">

                        <label for="modal-email">Email:</label>
                        <input type="email" id="modal-email">

                        <label for="modal-email">Phone:</label>
                        <input type="text" id="modal-phNumber">

                        <label for="modal-email">Department:</label>
                        <input type="text" id="modal-department">

                        <label for="modal-email">Year:</label>
                        <input type="text" id="modal-year">

                        <label for="modal-address">Address:</label>
                        <input type="text" id="modal-address">

                        <button type="submit">Save Changes</button>
                    </form>
                </div>
            </div>

            <!-- Issue Books -->
            <div id="issueBooks" class="content-section">
                <h2 class="section-title">
                    <i class="fas fa-hand-holding"></i> Issue Books
                </h2>
                <div class="form-container">
                    <form id="issueForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="issueMember">Member</label>
                                <select id="issueMember" required>
                                    <option value="">Select Member</option>
                                </select>
                                <!-- <input type="text" id="memberType" required hidden> -->
                            </div>
                            <div class="form-group">
                                <label for="issueBook">Book</label>
                                <select id="issueBook" required>
                                    <option value="">Select Book</option>

                                </select>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="issueDate">Issue Date</label>
                                <input type="date" id="issueDate" required>
                            </div>
                            <div class="form-group">
                                <label for="dueDate">Due Date</label>
                                <input type="date" id="dueDate" required>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-submit">
                            <i class="fas fa-check-circle"></i> Issue Book
                        </button>
                    </form>
                </div>
            </div>

            <!-- Other sections -->
            <div id="sendReminder" class="content-section">
                <h2 class="section-title">
                    <i class="fas fa-bell"></i> Send Reminder
                </h2>
                <div class="form-container">
                    <form id="reminderForm">
                        <div class="form-group">
                            <label for="reminderMember">Member</label>
                            <select id="reminderMember" required>
                                <option value="">Select Member</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="reminderMessage">Message</label>
                            <textarea id="reminderMessage" rows="4"
                                required>Dear member, this is a reminder that you have overdue books. Please return them as soon as possible to avoid penalties.</textarea>
                        </div>

                        <button type="submit" class="btn btn-submit">
                            <i class="fas fa-paper-plane"></i> Send Reminder
                        </button>
                    </form>
                </div>
            </div>

            <div id="returnBooks" class="content-section">
                <h2 class="section-title">
                    <i class="fas fa-undo"></i> Return Books
                </h2>
                <div class="form-container">
                    <form id="returnForm">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="returnMember">Member</label>
                                <select id="returnMember" required>
                                    <option value="">Select Member</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="returnBook">Book</label>
                                <select id="returnBook" required>
                                    <option value="">Select Book</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="returnDate">Return Date</label>
                            <input type="date" id="returnDate" required>
                        </div>

                        <button type="submit" class="btn btn-submit">
                            <i class="fas fa-check-circle"></i> Process Return
                        </button>
                    </form>
                </div>
            </div>

            <div id="viewTransactions" class="content-section">
                <h2 class="section-title">
                    <i class="fas fa-history"></i> View Transactions
                </h2>
                <div class="form-group" style="max-width: 500px; margin-bottom: 25px;">
                    <input type="text" id="transactionSearch" placeholder="Search transactions">
                </div>

                <div class="table-container">
                    <table class="books-table">
                        <thead>
                            <tr>
                                <th>Member</th>
                                <th>Member Type</th>
                                <th>Book</th>
                                <th>Issue Date</th>
                                <th>Due Date</th>
                                <th>Return Date</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>2023-06-15</td>
                                <td>Sarah Johnson</td>
                                <td>The Silent Patient</td>
                                <td>Checkout</td>
                                <td>2023-07-15</td>
                                <td>Active</td>
                            </tr>
                            <tr>
                                <td>2023-06-10</td>
                                <td>Michael Anderson</td>
                                <td>Atomic Habits</td>
                                <td>Checkout</td>
                                <td>2023-07-10</td>
                                <td>Returned</td>
                            </tr>
                            <tr>
                                <td>2023-06-05</td>
                                <td>Emily Roberts</td>
                                <td>Educated: A Memoir</td>
                                <td>Checkout</td>
                                <td>2023-07-05</td>
                                <td>Overdue</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer>
            <p>Smart Shelf Library Management System &copy; 2025 | Designed for efficient library management</p>
        </footer>
    </div>

    <script>
        // Window onload
        window.onload = function () {
            fetch('http://localhost:8080/libraryDetails')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    console.log(data);

                    const totalBooks = document.getElementById("totalBooks");
                    totalBooks && (totalBooks.innerText = data?.totalBooks ?? '0');

                    const totalMembers = document.getElementById("activeMembersCount");
                    totalMembers && (totalMembers.innerText = data?.activeMembers ?? '0');

                    const totalBooksCheckedOut = document.getElementById("totalCheckedoutBooks");
                    totalBooksCheckedOut && (totalBooksCheckedOut.innerText = data?.booksCheckedOut ?? '0');

                    const totalOverdueBooks = document.getElementById("overdueBooks");
                    totalOverdueBooks && (totalOverdueBooks.innerText = data?.totalOverdueBooks ?? '0');



                })
                .catch(error => {
                    console.error('Error fetching books:', error);
                    // alert('Failed to load data.');
                });

        };

        // Navigation functionality
        const navButtons = document.querySelectorAll('.nav-btn:not(#logoutBtn)');
        const contentSections = document.querySelectorAll('.content-section');



        navButtons.forEach(button => {
            button.addEventListener('click', function () {
                const target = this.getAttribute('data-target');

                // Update active nav button
                navButtons.forEach(btn => btn.style.background = 'rgba(67, 97, 238, 0.2)');
                this.style.background = 'var(--primary)';

                // Show target section
                contentSections.forEach(section => {
                    section.classList.remove('active');
                    if (section.id === target) {
                        section.classList.add('active');
                    }
                });
            });
        });

        // Form submission handlers
        // Student Registration
        document.getElementById('studentForm').addEventListener('submit', function (e) {
            e.preventDefault();

            // Extract data from form fields using their IDs
            const departmentSelect = document.getElementById('department');
            const selectedDepartmentText = departmentSelect.options[departmentSelect.selectedIndex].innerText;

            const studentData = {
                name: document.getElementById('fullName').value.trim(),
                email: document.getElementById('email').value.trim(),
                phNumber: document.getElementById('phone').value.trim(),
                department: selectedDepartmentText,
                year: document.getElementById('year').value,
                address: document.getElementById('address').value.trim()
            };

            // You can log it or use it as needed
            console.log(studentData);

            fetch('http://localhost:8080/student', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(studentData)
            })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not OK');
                    }
                    return response.json();
                })
                .then(data => {
                    console.log('Success:', data);
                    alert('Student registered successfully!');
                    this.reset();
                })
                .catch(error => {
                    console.error('Error:', error);
                });


        });

        document.getElementById('memberForm').addEventListener('submit', function (e) {
            e.preventDefault();
            // alert('Member registered successfully!');
            // Extract data from form fields using their IDs
            const typeSelect = document.getElementById('mType');
            const selectedTypeText = typeSelect.options[typeSelect.selectedIndex].innerText;

            const studentData = {
                name: document.getElementById('mFullName').value.trim(),
                email: document.getElementById('mEmail').value.trim(),
                phNumber: document.getElementById('mPhone').value.trim(),
                type: selectedTypeText,
                expiry: document.getElementById('mExpiry').value,
                address: document.getElementById('mAddress').value.trim()
            };

            // You can log it or use it as needed
            console.log(studentData);

            fetch('http://localhost:8080/member', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(studentData)
            })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not OK');
                    }
                    return response.json();
                })
                .then(data => {
                    console.log('Success:', data);
                    alert('Member registered successfully!');
                    this.reset();
                })
                .catch(error => {
                    console.error('Error:', error);
                });
        });

        document.getElementById('reminderForm').addEventListener('submit', function (e) {
            e.preventDefault();
            alert('Reminder sent successfully!');
            this.reset();
        });


        // Search functionality
        document.getElementById('bookSearch').addEventListener('input', function () {
            const searchTerm = this.value.toLowerCase();
            const rows = document.querySelectorAll('#allBooks .books-table tbody tr');

            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        });

        document.getElementById('studentSearch').addEventListener('input', function () {
            const searchTerm = this.value.toLowerCase();
            const rows = document.querySelectorAll('#manageStudents .books-table tbody tr');

            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        });

        document.getElementById('transactionSearch').addEventListener('input', function () {
            const searchTerm = this.value.toLowerCase();
            const rows = document.querySelectorAll('#viewTransactions .books-table tbody tr');

            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchTerm) ? '' : 'none';
            });
        });

        // Logout functionality
        document.getElementById('logoutBtn').addEventListener('click', function () {
            if (confirm('Are you sure you want to logout?')) {
                alert('You have been logged out successfully!');
                // In a real app, this would redirect to login page
            }
        });

        // Add data to Students Table
        document.getElementById('getStudents').addEventListener('click', function () {
            // Replace this URL with your actual API endpoint
            fetch('http://localhost:8080/getAllStudents')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    console.log(data);
                    const tbody = document.querySelector('#student-container .books-table tbody');
                    tbody.innerHTML = ''; // Clear existing rows

                    data.forEach((student, index) => {
                        const row = document.createElement('tr');
                        row.setAttribute('data-id', student.id);
                        row.setAttribute('data-name', student.name);
                        row.setAttribute('data-department', student.department);
                        row.setAttribute('data-email', student.email);
                        row.setAttribute('data-address', student.address);
                        row.setAttribute('data-phNumber', student.phNumber);
                        row.setAttribute('data-year', student.year);

                        row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${student.name}</td>
                    <td>${student.department}</td>
                    <td>${student.email}</td>
                    <td>${student.phNumber}</td>
                    <td>
                        <button class="btn edit-btn" style="padding: 8px 15px; font-size: 0.9rem;">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                        <button class="btn btn-delete delete-btn" id="deleteStudent" style="padding: 8px 15px; font-size: 0.9rem;">
                            <i class="fas fa-trash-alt"></i> Delete
                        </button>
                    </td>
                `;

                        tbody.appendChild(row);
                    });

                    // --- MOVED MODAL LOGIC HERE ---
                    const modal = document.getElementById('edit-modal');
                    const editButtons = document.querySelectorAll('.edit-btn');
                    const closeBtn = document.querySelector('.close-btn');

                    editButtons.forEach(button => {
                        button.addEventListener('click', (event) => {
                            const row = event.target.closest('tr');
                            const id = row.getAttribute('data-id');
                            const name = row.getAttribute('data-name');
                            const email = row.getAttribute('data-email');
                            const phNumber = row.getAttribute('data-phNumber');
                            const department = row.getAttribute('data-department');
                            const year = row.getAttribute('data-year');
                            const address = row.getAttribute('data-address');

                            document.getElementById('modal-id').value = id;
                            document.getElementById('modal-name').value = name;
                            document.getElementById('modal-email').value = email;
                            document.getElementById('modal-phNumber').value = phNumber;
                            document.getElementById('modal-department').value = department;
                            document.getElementById('modal-year').value = year;
                            document.getElementById('modal-address').value = address;

                            modal.classList.add('active');
                        });
                    });



                    // Function to close the modal
                    const closeModal = () => {
                        modal.classList.remove('active');
                    };

                    closeBtn.addEventListener('click', closeModal);

                    window.addEventListener('click', (event) => {
                        if (event.target === modal) {
                            closeModal();
                        }
                    });

                    // Optional: Listen for the 'Escape' key to close the modal
                    document.addEventListener('keydown', (event) => {
                        if (event.key === 'Escape' && modal.classList.contains('active')) {
                            closeModal();
                        }
                    });

                    // --- DELETE FUNCTIONALITY (CORRECTED) ---
                    // We'll attach the listener to the 'tbody' and use event delegation.
                    tbody.addEventListener('click', function (event) {
                        // Check if the clicked element is the delete button or its icon
                        if (event.target.closest('.delete-btn')) {
                            const row = event.target.closest('tr');
                            const studentId = row.getAttribute('data-id');

                            const userResponse = confirm("Are you sure you want to delete this item?");

                            if (userResponse) {
                                // This is where you would make your API call to delete the student
                                fetch(`http://localhost:8080/student/${studentId}`, {
                                    method: 'DELETE'
                                })
                                    .then(response => {
                                        if (response.ok) {
                                            alert("The item has been deleted.");
                                            // Remove the row from the DOM after successful deletion
                                            row.remove();
                                        } else {
                                            alert("Deletion failed.");
                                        }
                                    })
                                    .catch(error => {
                                        console.error('Error deleting student:', error);
                                        alert("An error occurred while trying to delete the student.");
                                    });
                            } else {
                                alert("Deletion canceled.");
                            }
                        }
                    });
                })
                .catch(error => {
                    console.error('Error fetching books:', error);
                    const tbody = document.querySelector('#student-container .books-table tbody');
                    tbody.innerHTML = `
                    <tr>
                        <td colspan="6" style="text-align: center; padding: 20px;">No data available</td>
                    </tr>
                    `;
                });




        });

        // Add data to Transaction Table
        document.getElementById('getTransactions').addEventListener('click', function () {
            // Replace this URL with your actual API endpoint
            fetch('http://localhost:8080/transaction/getAllTransactions')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    console.log(data);
                    const tbody = document.querySelector('#viewTransactions .books-table tbody');
                    tbody.innerHTML = ''; // Clear existing rows

                    data.forEach((transaction, index) => {
                        const row = document.createElement('tr');
                        row.setAttribute('data-id', transaction.id);
                        row.setAttribute('data-member', transaction.member);
                        row.setAttribute('data-memberType', transaction.memberType);
                        row.setAttribute('data-issuedBook', transaction.issuedBook);
                        row.setAttribute('data-issuedDate', transaction.issuedDate);
                        row.setAttribute('data-dueDate', transaction.dueDate);
                        row.setAttribute('data-returnDate', transaction.returnDate);
                        row.setAttribute('data-status', transaction.status);


                        row.innerHTML = `
                    <td>${transaction.member}</td>
                    <td>${transaction.memberType}</td>
                    <td>${transaction.issuedBook}</td>
                    <td>${transaction.issuedDate}</td>
                    <td>${transaction.dueDate}</td>
                    <td>${transaction.returnDate}</td>
                    <td>${transaction.status}</td>
                `;

                        tbody.appendChild(row);
                    });
                })
                .catch(error => {
                    console.error('Error fetching books:', error);
                    const tbody = document.querySelector('#student-container .books-table tbody');
                    tbody.innerHTML = `
                    <tr>
                        <td colspan="6" style="text-align: center; padding: 20px;">No data available</td>
                    </tr>
                    `;
                });
        });


        // Update Issue Book Member Dropdown
        document.getElementById('issueBooks').addEventListener('click', function () {
            const memberSelect = document.getElementById('issueMember');
            const bookSelect = document.getElementById('issueBook');


            Promise.all([
                fetch('http://localhost:8080/getAllStudents').then(res => res.json()),
                fetch('http://localhost:8080/getAllMembers').then(res => res.json()),
                fetch('http://localhost:8080/getAllBooks').then(res => res.json())
            ])
                .then(([students, members, books]) => {
                    const combinedOptions = [];

                    // Add student options
                    students.forEach(student => {
                        const option = document.createElement('option');
                        option.value = student.memberId || student.id; // Use memberId if you have one like S2023001
                        option.textContent = `${student.name} (Student)`;
                        combinedOptions.push(option);
                    });
                    // Add member options
                    members.forEach(member => {
                        const option = document.createElement('option');
                        option.value = member.memberId || member.id; // Assuming M2023004-style IDs
                        option.textContent = `${member.name} (${member.type})`; // e.g., Faculty, Public
                        combinedOptions.push(option);


                    });
                    console.log(books);
                    // Books Options
                    books.forEach(book => {
                        const option = document.createElement('option');
                        option.value = book.title; // Assuming M2023004-style IDs
                        option.textContent = `${book.title}`; // e.g., Faculty, Public
                        bookSelect.appendChild(option);
                    });

                    // Append options to the select element
                    combinedOptions.forEach(option => {
                        memberSelect.appendChild(option);
                    });
                })
                .catch(error => {
                    console.error('Error fetching students/members:', error);
                    alert('Failed to load members.');
                });
        });

        // Update Return Book Member Dropdown
        document.getElementById('returnBooks').addEventListener('click', function () {
            const memberSelect = document.getElementById('returnMember');
            const bookSelect = document.getElementById('returnBook');


            Promise.all([
                fetch('http://localhost:8080/getAllStudents').then(res => res.json()),
                fetch('http://localhost:8080/getAllMembers').then(res => res.json()),
                fetch('http://localhost:8080/getAllBooks').then(res => res.json())
            ])
                .then(([students, members, books]) => {
                    const combinedOptions = [];

                    // Add student options
                    students.forEach(student => {
                        const option = document.createElement('option');
                        option.value = student.name; // Use memberId if you have one like S2023001
                        option.textContent = `${student.name} (Student)`;
                        combinedOptions.push(option);
                    });
                    // Add member options
                    members.forEach(member => {
                        const option = document.createElement('option');
                        option.value = member.name; // Assuming M2023004-style IDs
                        option.textContent = `${member.name} (${member.type})`; // e.g., Faculty, Public
                        combinedOptions.push(option);


                    });
                    console.log(books);
                    // Books Options
                    books.forEach(book => {
                        const option = document.createElement('option');
                        option.value = book.title; // Assuming M2023004-style IDs
                        option.textContent = `${book.title}`; // e.g., Faculty, Public
                        bookSelect.appendChild(option);
                    });

                    // Append options to the select element
                    combinedOptions.forEach(option => {
                        memberSelect.appendChild(option);
                    });
                })
                .catch(error => {
                    console.error('Error fetching students/members:', error);
                    alert('Failed to load members.');
                });
        });

        // Update Send Reminder Member Dropdown
        document.getElementById('sendReminder').addEventListener('click', function () {
            const memberSelect = document.getElementById('reminderMember');

            Promise.all([
                fetch('http://localhost:8080/getAllStudents').then(res => res.json()),
                fetch('http://localhost:8080/getAllMembers').then(res => res.json())
            ])
                .then(([students, members]) => {
                    const combinedOptions = [];

                    // Add student options
                    students.forEach(student => {
                        const option = document.createElement('option');
                        option.value = student.memberId || student.id; // Use memberId if you have one like S2023001
                        option.textContent = `${student.name} (Student)`;
                        combinedOptions.push(option);
                    });
                    console.log(members);
                    // Add member options
                    members.forEach(member => {
                        const option = document.createElement('option');
                        option.value = member.memberId || member.id; // Assuming M2023004-style IDs
                        option.textContent = `${member.name} (${member.type})`; // e.g., Faculty, Public
                        combinedOptions.push(option);
                    });

                    // Append options to the select element
                    combinedOptions.forEach(option => {
                        memberSelect.appendChild(option);
                    });
                })
                .catch(error => {
                    console.error('Error fetching students/members:', error);
                    alert('Failed to load members.');
                });
        });

        // Update Student Info
        document.getElementById('studentUpdateForm').addEventListener('submit', function (e) {
            e.preventDefault(); // Prevents the default form submission behavior (page reload)

            // Get data from each input field by its ID
            const studentData = {
                id: document.getElementById('modal-id').value,
                name: document.getElementById('modal-name').value,
                email: document.getElementById('modal-email').value,
                phNumber: document.getElementById('modal-phNumber').value,
                department: document.getElementById('modal-department').value,
                year: document.getElementById('modal-year').value,
                address: document.getElementById('modal-address').value
            };

            // Now, the `studentData` object holds all the form data.
            // You can console.log it to verify or send it to a server.
            console.log(studentData);

            // You can now proceed to send this data to your backend API using fetch()
            // Example:
            fetch(`http://localhost:8080/student/${studentData.id}`, {
                method: 'PUT', // Or POST, depending on your API
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(studentData),
            })
                .then(response => response.json())
                .then(data => {
                    console.log('Success:', data);
                    // alert('Student data updated successfully!');
                    // Close the modal after a successful update
                    document.getElementById('edit-modal').classList.remove('active');
                })
                .catch((error) => {
                    console.error('Error:', error);
                    alert('Failed to update student data.');
                });
        });

        // Return Book
        document.getElementById('returnForm').addEventListener('submit', function (e) {
            e.preventDefault(); // Prevents the default form submission behavior (page reload)

            // Get data from each input field by its ID
            const studentData = {
                member: document.getElementById('returnMember').value,
                issuedBook: document.getElementById('returnBook').value,
                returnDate: document.getElementById('returnDate').value,
                status: "RETURNED"
            };

            // Now, the `studentData` object holds all the form data.
            // You can console.log it to verify or send it to a server.
            console.log(studentData);

            // You can now proceed to send this data to your backend API using fetch()
            // Example:
            fetch(`http://localhost:8080/transaction/returnBook`, {
                method: 'PUT', // Or POST, depending on your API
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(studentData),
            })
                .then(response => response.json())
                .then(data => {
                    console.log('Success:', data);
                    this.reset();
                })
                .catch((error) => {
                    console.error('Error:', error);
                    alert('Failed to update student data.');
                });
        });


        // Get Issue Form Data
        document.getElementById('issueForm').addEventListener('submit', function (e) {
            e.preventDefault(); // Prevents the default form submission behavior (page reload)

            const getMemberData = (index)=>{
                    const select = document.getElementById('issueMember');
                    // console.log(select);


                    const selectedText = select.options[select.selectedIndex].text;
                    console.log(selectedText);
                    const match = selectedText.split(" (")[index];
                    console.log("Match: "+match);
                    return match;
                };
            // Get data from each input field by its ID
            const studentData = {
                member: getMemberData(0),
                issuedBook: document.getElementById('issueBook').value,
                issuedDate: document.getElementById('issueDate').value,
                dueDate: document.getElementById('dueDate').value,
                status: "ACTIVE",
                memberType: getMemberData(1).replace(')','')
            };

            // Now, the `studentData` object holds all the form data.
            // You can console.log it to verify or send it to a server.
            console.log(studentData);

            // You can now proceed to send this data to your backend API using fetch()
            // Example:
            fetch(`http://localhost:8080/transaction/issueBook`, {
                method: 'POST', // Or POST, depending on your API
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(studentData),
            })
                .then(response => response.json())
                .then(data => {
                    console.log('Success:', data);
                    alert('Student data updated successfully!');
                })
                .catch((error) => {
                    console.error('Error:', error);
                    alert('Failed to update student data.');
                });
        });

        // Add data to Books Table
        document.getElementById('getBooks').addEventListener('click', function () {
            // Replace this URL with your actual API endpoint
            fetch('http://localhost:8080/getAllBooks')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    console.log(data);
                    const tbody = document.querySelector('#book-container .books-table tbody');
                    tbody.innerHTML = ''; // Clear existing rows

                    data.forEach(book => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                    <td>${book.title}</td>
                    <td>${book.author}</td>
                    <td>${book.isbn}</td>
                    <td>${book.category}</td>
                    <td>
                        <span class="status-badge ${book.status.toLowerCase() === 'available' ? 'available' : 'checked-out'}">
                            ${book.status.toLowerCase() === 'available' ? 'Available' : 'Checked Out'}
                        </span>
                    </td>
                    `;
                        // <td>
                        //     <button class="btn" style="padding: 8px 15px; font-size: 0.9rem;">
                        //         <i class="fas fa-eye"></i> View
                        //     </button>
                        // </td>

                        tbody.appendChild(row);
                    });
                })
                .catch(error => {
                    console.error('Error fetching books:', error);
                    const tbody = document.querySelector('#book-container .books-table tbody');
                    tbody.innerHTML = `
                    <tr>
                        <td colspan="6" style="text-align: center; padding: 20px;">No data available</td>
                    </tr>
                    `;
                    // alert('Failed to load books.');
                });
        });

        // Update Dashboard data
        document.getElementById('dashboard').addEventListener('click', function () {
            // Replace this URL with your actual API endpoint
            fetch('http://localhost:8080/libraryDetails')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    console.log(data);

                    const totalBooks = document.getElementById("totalBooks");
                    totalBooks.innerText = data.totalBooks;

                    const totalMembers = document.getElementById("activeMembersCount");
                    totalMembers.innerText = data.activeMembers;

                    const totalBooksCheckedOut = document.getElementById("totalCheckedoutBooks");
                    totalBooksCheckedOut.innerText = data.booksCheckedOut;

                    const totalOverdueBooks = document.getElementById("overdueBooks");
                    totalOverdueBooks.innerText = data.totalOverdueBooks;


                })
                .catch(error => {
                    console.error('Error fetching books:', error);
                    // alert('Failed to load data.');
                });
        });

        // Initialize dashboard as active
        document.querySelector('.nav-btn[data-target="dashboard"]').style.background = 'var(--primary)';
    </script>
</body>

</html>